<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="content-language" content="en">
  <meta name="product" content="js-api-arcgis">
  <meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE">
  <meta name="sub_category" content="JavaScript API">
  <meta name="search-collection" content="help">
  <meta name="search-category" content="help-api,help-api-sample">
  <meta name="version" content="3.x">
  <meta name="content_type" content="Sample"> 
  <meta name="tags" content="JavaScript Samples,reportplayer,geoenrichment,jssamplexgeoenrichment">
  <meta name="last-modified" content="2019-12-17"> 

  <link rel="stylesheet" href="../styles/screen.css">
  <link rel="stylesheet" href="../styles/homepage.css">
  <link rel="stylesheet" href="../styles/grid.css">
  <link rel="stylesheet" href="../styles/tree.css">
  <link rel="stylesheet" href="../styles/esri-js-api-samples.css">
  <link rel="stylesheet" href="../prettify/prettify.css">
  <link href="../styles/tailcoat-search.css" media="screen" rel="stylesheet">
  <link href="//fast.fonts.com/cssapi/23855eec-5fdf-4594-9898-0113a04bfef0.css" rel="stylesheet">
  <link rel="shortcut icon" href="../graphics/favicon.ico">
  <style>
    html {
      overflow-y: auto;
    }
    pre {
      font-size: 1em;
      line-height: normal;
      margin: 0;
      margin-top: 1em;
    }
    #esri-logo {
      margin-left: 0;
    }
    .navigation-bar {
      background-image: url("../graphics/tailcoat/navigation-bar-background.jpg");
    }
  </style>
  <title>ReportPlayer - Geoenrichment | ArcGIS API for JavaScript 3.31</title> 
  
  
</head>

<body>
<header class="header">
  <div class="container">
    <div class="row">
      <div class="column-24">
        <nav class="site-nav trailer-half">
            Go to <a href="https://developers.arcgis.com/javascript/">Latest version (official documentation)</a>
        </nav>
        <div class="site-search right visually-hidden">
          <form class="site-search-form" method="GET" action="/search">
            <span class="site-search-toggle icon-search"></span>
            <input class="left site-search-input" type="search" name="q" placeholder="Search">

            <button type="submit" class="btn transparent site-search-button">Go</button>

            <input type="hidden" name="do" value="developers">
            <input type="hidden" name="start" value="0">
            <input type="hidden" name="lg" value="en">
            <input type="hidden" name="product" value="js-api-arcgis">
          </form>
        </div>
      </div>
    </div>
  </div>
</header>

  <div class="navigation-bar ">
    <div class="container">
      <header>
        <h1 class="light"><a href="..">ArcGIS API for JavaScript <sup>3.31</sup></a></h1>
      </header>
      <nav class="navigation-bar-nav">
        <ul>
            <li class=""><a href="../">Home</a></li>
            <li class=""><a href="../jshelp/">Guide</a></li>
            <li class=""><a href="../jsapi/">API Reference</a></li>
            <li class="current"><a href=".">Sample Code</a></li>
            <li class=""><a class="icon-share icon-link-external" href="https://community.esri.com/community/developers/web-developers/arcgis-api-for-javascript">Community</a></li>
        </ul>
      </nav>
    </div>
  </div>



<div class="container_12">
  <div class="grid_3 contentWrapper">
    <div id="toggleToc">
      <img src="../graphics/tochide.gif" alt=""> Hide Table of Contents
    </div>
    <div id="samplesToc">    <div id="tree" style="top: 35px; left: 0px;" class="treeDiv">
      <div id="treeRoot">
        <div class="treeNode">
          <a href="." class="treeUnselected" onclick="clickAnchor(this)">Samples Overview</a>
        </div>
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Analysis
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="analysis_connectoriginstodestinations.html" class="treeUnselected" onclick="clickAnchor(this)">Analysis - Calculate travel time and distance</a>
            </div>
            <div class="treeNode">
              <a href="analysis_createviewshed.html" class="treeUnselected" onclick="clickAnchor(this)">Analysis - Create viewshed</a>
            </div>
            <div class="treeNode">
              <a href="analysis_createwatersheds.html" class="treeUnselected" onclick="clickAnchor(this)">Analysis - Create watersheds</a>
            </div>
            <div class="treeNode">
              <a href="analysis_hotspot.html" class="treeUnselected" onclick="clickAnchor(this)">Analysis - Find hot spots</a>
            </div>
            <div class="treeNode">
              <a href="analysis_summarizenearby.html" class="treeUnselected" onclick="clickAnchor(this)">Analysis - Summarize nearby</a>
            </div>
            <div class="treeNode">
              <a href="widget_elevationprofile_createfeature.html" class="treeUnselected" onclick="clickAnchor(this)">ElevationProfile widget - user-specified input geometry</a>
            </div>
            <div class="treeNode">
              <a href="geoenrichment_infographic.html" class="treeUnselected" onclick="clickAnchor(this)">Geoenrichment - Infographic</a>
            </div>
            <div class="treeNode">
              <a href="geoenrichment_carousel.html" class="treeUnselected" onclick="clickAnchor(this)">Geoenrichment - InfographicsCarousel</a>
            </div>
            <div class="treeNode">
              <a href="la_standardGeographyQueryTask.html" class="treeUnselected" onclick="clickAnchor(this)">Geoenrichment - StandardGeographyQueryTask</a>
            </div>
            <div class="treeNode">
              <a href="ge_geodesic_buffers.html" class="treeUnselected" onclick="clickAnchor(this)">Geometry Engine - Geodesic buffers</a>
            </div>
            <div class="treeNode">
              <a href="util_buffergraphic.html" class="treeUnselected" onclick="clickAnchor(this)">Geometry Service - Buffer</a>
            </div>
            <div class="treeNode">
              <a href="util_measurepoly.html" class="treeUnselected" onclick="clickAnchor(this)">Geometry Service - Calculate geometry</a>
            </div>
            <div class="treeNode">
              <a href="util_label_point.html" class="treeUnselected" onclick="clickAnchor(this)">Geometry Service - Points for labeling</a>
            </div>
            <div class="treeNode">
              <a href="gp_resultmapservice.html" class="treeUnselected" onclick="clickAnchor(this)">Geoprocessing - Export result as map service</a>
            </div>
            <div class="treeNode">
              <a href="util_relation.html" class="treeUnselected" onclick="clickAnchor(this)">Geoprocessing - Point in polygon search</a>
            </div>
            <div class="treeNode">
              <a href="gp_zonalstats.html" class="treeUnselected" onclick="clickAnchor(this)">Geoprocessing - Population zonal statistics</a>
            </div>
            <div class="treeNode">
              <a href="gp_servicearea.html" class="treeUnselected" onclick="clickAnchor(this)">Geoprocessing - Service area task</a>
            </div>
            <div class="treeNode">
              <a href="gp_viewshed.html" class="treeUnselected" onclick="clickAnchor(this)">Geoprocessing - Viewshed</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Data Reviewer
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="datareviewer_dashboardgetresults.html" class="treeUnselected" onclick="clickAnchor(this)">DataReviewer - Dashboard Results</a>
            </div>
            <div class="treeNode">
              <a href="datareviewer_dashboardgetresultswithfilters.html" class="treeUnselected" onclick="clickAnchor(this)">DataReviewer - Dashboard Results with Filter</a>
            </div>
            <div class="treeNode">
              <a href="datareviewer_executebatchjob.html" class="treeUnselected" onclick="clickAnchor(this)">DataReviewer - Execute Ad Hoc Batch Validation</a>
            </div>
            <div class="treeNode">
              <a href="datareviewer_reviewerresultsgetresults.html" class="treeUnselected" onclick="clickAnchor(this)">DataReviewer - Reviewer Results</a>
            </div>
            <div class="treeNode">
              <a href="datareviewer_schedulejob.html" class="treeUnselected" onclick="clickAnchor(this)">DataReviewer - Scheduled Batch Validation</a>
            </div>
            <div class="treeNode">
              <a href="datareviewer_reviewerresultslifecyclestatus.html" class="treeUnselected" onclick="clickAnchor(this)">DataReviewer - Update Result Lifecycle Status</a>
            </div>
            <div class="treeNode">
              <a href="datareviewer_reviewerresultswriteresult.html" class="treeUnselected" onclick="clickAnchor(this)">DataReviewer - Write Reviewer Results</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Directions and Routing
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="routetask_basic_servicearea.html" class="treeUnselected" onclick="clickAnchor(this)">Basic service area</a>
            </div>
            <div class="treeNode">
              <a href="widget_directions_basic.html" class="treeUnselected" onclick="clickAnchor(this)">Directions</a>
            </div>
            <div class="treeNode">
              <a href="routetask_closest_facility.html" class="treeUnselected" onclick="clickAnchor(this)">Find closest facilities</a>
            </div>
            <div class="treeNode">
              <a href="ags_traffic.html" class="treeUnselected" onclick="clickAnchor(this)">World traffic</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Dynamic Layers
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="map_twodynamic.html" class="treeUnselected" onclick="clickAnchor(this)">Add two dynamic maps</a>
            </div>
            <div class="treeNode">
              <a href="renderer_dynamic_layer_change_attribute.html" class="treeUnselected" onclick="clickAnchor(this)">Change attribute used for a renderer</a>
            </div>
            <div class="treeNode">
              <a href="renderer_dynamic_layer_class_breaks.html" class="treeUnselected" onclick="clickAnchor(this)">Class breaks renderer with dynamic layer</a>
            </div>
            <div class="treeNode">
              <a href="map_dynamic.html" class="treeUnselected" onclick="clickAnchor(this)">Dynamic map service</a>
            </div>
            <div class="treeNode">
              <a href="map_multiplelayerdef.html" class="treeUnselected" onclick="clickAnchor(this)">Layer definitions on a dynamic map service</a>
            </div>
            <div class="treeNode">
              <a href="layers_dynamic_reorder.html" class="treeUnselected" onclick="clickAnchor(this)">Reorder layers in map service</a>
            </div>
            <div class="treeNode">
              <a href="layers_wmsresourceinfo.html" class="treeUnselected" onclick="clickAnchor(this)">WMS - resource info</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Editing
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="ed_attachments.html" class="treeUnselected" onclick="clickAnchor(this)">Attachment editor</a>
            </div>
            <div class="treeNode">
              <a href="toolbar_draw.html" class="treeUnselected" onclick="clickAnchor(this)">Drawing tools</a>
            </div>
            <div class="treeNode">
              <a href="ed_feature_creation.html" class="treeUnselected" onclick="clickAnchor(this)">Edit without editor widget</a>
            </div>
            <div class="treeNode">
              <a href="toolbar_edit.html" class="treeUnselected" onclick="clickAnchor(this)">Editing tools</a>
            </div>
            <div class="treeNode">
              <a href="ed_simpletoolbar.html" class="treeUnselected" onclick="clickAnchor(this)">Editor widget with simple toolbar</a>
            </div>
            <div class="treeNode">
              <a href="ed_toolbar.html" class="treeUnselected" onclick="clickAnchor(this)">Move and edit vertices</a>
            </div>
            <div class="treeNode">
              <a href="ed_relatededits.html" class="treeUnselected" onclick="clickAnchor(this)">Query and edit related records</a>
            </div>
            <div class="treeNode">
              <a href="ed_template_picker.html" class="treeUnselected" onclick="clickAnchor(this)">Template picker widget</a>
            </div>
            <div class="treeNode">
              <a href="ed_attribute_inspector.html" class="treeUnselected" onclick="clickAnchor(this)">Using the attribute inspector</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Feature Layers
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="fl_any_projection.html" class="treeUnselected" onclick="clickAnchor(this)">Any projection</a>
            </div>
            <div class="treeNode">
              <a href="client_projection.html" class="treeUnselected" onclick="clickAnchor(this)">Client-side projection</a>
            </div>
            <div class="treeNode">
              <a href="layers_csv.html" class="treeUnselected" onclick="clickAnchor(this)">CSV</a>
            </div>
            <div class="treeNode">
              <a href="fl_webgl.html" class="treeUnselected" onclick="clickAnchor(this)">Display more data with FeatureLayer</a>
            </div>
            <div class="treeNode">
              <a href="fl_featureCollection.html" class="treeUnselected" onclick="clickAnchor(this)">Feature collection</a>
            </div>
            <div class="treeNode">
              <a href="layers_feature.html" class="treeUnselected" onclick="clickAnchor(this)">Feature Layer (basic)</a>
            </div>
            <div class="treeNode">
              <a href="layers_georss.html" class="treeUnselected" onclick="clickAnchor(this)">GeoRSS</a>
            </div>
            <div class="treeNode">
              <a href="layers_kml.html" class="treeUnselected" onclick="clickAnchor(this)">KML</a>
            </div>
            <div class="treeNode">
              <a href="layers_kmlbuffer.html" class="treeUnselected" onclick="clickAnchor(this)">KML with buffer</a>
            </div>
            <div class="treeNode">
              <a href="layers_label.html" class="treeUnselected" onclick="clickAnchor(this)">Labeling features on the client</a>
            </div>
            <div class="treeNode">
              <a href="fl_no_basemap.html" class="treeUnselected" onclick="clickAnchor(this)">No basemap</a>
            </div>
            <div class="treeNode">
              <a href="fl_ondemand.html" class="treeUnselected" onclick="clickAnchor(this)">On demand mode</a>
            </div>
            <div class="treeNode">
              <a href="data_requestLayerInfo.html" class="treeUnselected" onclick="clickAnchor(this)">Request layer info</a>
            </div>
            <div class="treeNode">
              <a href="fl_selection.html" class="treeUnselected" onclick="clickAnchor(this)">Select features within a two minute drive time</a>
            </div>
            <div class="treeNode">
              <a href="layers_streamlayer.html" class="treeUnselected" onclick="clickAnchor(this)">Stream Layer</a>
            </div>
            <div class="treeNode">
              <a href="fl_dynamic.html" class="treeUnselected" onclick="clickAnchor(this)">Table source from ArcGIS Server</a>
            </div>
            <div class="treeNode">
              <a href="layers_wcs.html" class="treeUnselected" onclick="clickAnchor(this)">WCS Layer with Pixel Filter</a>
            </div>
            <div class="treeNode">
              <a href="layers_wfs.html" class="treeUnselected" onclick="clickAnchor(this)">WFS Layer</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Feature Table
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="featuretable_custommenu.html" class="treeUnselected" onclick="clickAnchor(this)">FeatureTable - Custom Menu Items</a>
            </div>
            <div class="treeNode">
              <a href="featuretable_formatting.html" class="treeUnselected" onclick="clickAnchor(this)">FeatureTable - Formatting</a>
            </div>
            <div class="treeNode">
              <a href="featuretable_relatedrecords.html" class="treeUnselected" onclick="clickAnchor(this)">FeatureTable - related records</a>
            </div>
            <div class="treeNode">
              <a href="featuretable.html" class="treeUnselected" onclick="clickAnchor(this)">Using FeatureTable</a>
            </div>
            <div class="treeNode">
              <a href="fl_paging.html" class="treeUnselected" onclick="clickAnchor(this)">Using FeatureTable (no map)</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Graphics
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="graphics_add.html" class="treeUnselected" onclick="clickAnchor(this)">Add graphics to a map</a>
            </div>
            <div class="treeNode">
              <a href="graphics_create_circles.html" class="treeUnselected" onclick="clickAnchor(this)">Create circles</a>
            </div>
            <div class="treeNode">
              <a href="graphics_contextmenu.html" class="treeUnselected" onclick="clickAnchor(this)">Display context menu</a>
            </div>
            <div class="treeNode">
              <a href="graphics_undoredo.html" class="treeUnselected" onclick="clickAnchor(this)">Graphics with undo redo</a>
            </div>
            <div class="treeNode">
              <a href="layers_point_clustering.html" class="treeUnselected" onclick="clickAnchor(this)">Point clustering</a>
            </div>
            <div class="treeNode">
              <a href="styling_svg_fb.html" class="treeUnselected" onclick="clickAnchor(this)">SVG and CSS to style polygons</a>
            </div>
            <div class="treeNode">
              <a href="styling_svg_quantize.html" class="treeUnselected" onclick="clickAnchor(this)">SVG and CSS using D3</a>
            </div>
            <div class="treeNode">
              <a href="graphics_svg_path.html" class="treeUnselected" onclick="clickAnchor(this)">SVG path to create a SimpleMarkerSymbol</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            HTML5
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="exp_history.html" class="treeUnselected" onclick="clickAnchor(this)">History API to track selected feature</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Image Layers
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="image_simpleimageservice.html" class="treeUnselected" onclick="clickAnchor(this)">Image service</a>
            </div>
            <div class="treeNode">
              <a href="layers_imageservicevector.html" class="treeUnselected" onclick="clickAnchor(this)">Image Service Vector Layer</a>
            </div>
            <div class="treeNode">
              <a href="layers_raster.html" class="treeUnselected" onclick="clickAnchor(this)">Raster layer slider</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Map
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="widget_basemap.html" class="treeUnselected" onclick="clickAnchor(this)">Basemap gallery</a>
            </div>
            <div class="treeNode">
              <a href="widget_toggle.html" class="treeUnselected" onclick="clickAnchor(this)">Basemap Toggle</a>
            </div>
            <div class="treeNode">
              <a href="map_simple.html" class="treeUnselected" onclick="clickAnchor(this)">Create a map</a>
            </div>
            <div class="treeNode">
              <a href="mapconfig_smoothpan.html" class="treeUnselected" onclick="clickAnchor(this)">Customize navigation animation</a>
            </div>
            <div class="treeNode">
              <a href="widget_bookmarks_editable.html" class="treeUnselected" onclick="clickAnchor(this)">Edit bookmarks</a>
            </div>
            <div class="treeNode">
              <a href="widget_home.html" class="treeUnselected" onclick="clickAnchor(this)">Home Button</a>
            </div>
            <div class="treeNode">
              <a href="widget_layerlist_basic.html" class="treeUnselected" onclick="clickAnchor(this)">LayerList widget</a>
            </div>
            <div class="treeNode">
              <a href="widget_swipe.html" class="treeUnselected" onclick="clickAnchor(this)">LayerSwipe widget</a>
            </div>
            <div class="treeNode">
              <a href="widget_legend.html" class="treeUnselected" onclick="clickAnchor(this)">Legend</a>
            </div>
            <div class="treeNode">
              <a href="widget_locate.html" class="treeUnselected" onclick="clickAnchor(this)">Locate Button</a>
            </div>
            <div class="treeNode">
              <a href="widget_measurement.html" class="treeUnselected" onclick="clickAnchor(this)">Measurement Widget</a>
            </div>
            <div class="treeNode">
              <a href="map_openstreetmap.html" class="treeUnselected" onclick="clickAnchor(this)">OpenStreetMap layer</a>
            </div>
            <div class="treeNode">
              <a href="widget_overviewmap.html" class="treeUnselected" onclick="clickAnchor(this)">Overview map</a>
            </div>
            <div class="treeNode">
              <a href="widget_scalebar.html" class="treeUnselected" onclick="clickAnchor(this)">Scalebar</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Mobile
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="mobile_citizenrequest.html" class="treeUnselected" onclick="clickAnchor(this)">Attribute editing - mobile</a>
            </div>
            <div class="treeNode">
              <a href="mobile_compass.html" class="treeUnselected" onclick="clickAnchor(this)">Compass</a>
            </div>
            <div class="treeNode">
              <a href="mobile_arcgis.html" class="treeUnselected" onclick="clickAnchor(this)">Educational attainment predominance map</a>
            </div>
            <div class="treeNode">
              <a href="mobile_geolocaterenderer.html" class="treeUnselected" onclick="clickAnchor(this)">Geolocation with a temporal renderer</a>
            </div>
            <div class="treeNode">
              <a href="mobile_shake.html" class="treeUnselected" onclick="clickAnchor(this)">Shake gesture recognition</a>
            </div>
            <div class="treeNode">
              <a href="mobile_soilmap.html" class="treeUnselected" onclick="clickAnchor(this)">Soil details - mobile</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Online and Portal
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="portal_addshapefile.html" class="treeUnselected" onclick="clickAnchor(this)">Add shapefile</a>
            </div>
            <div class="treeNode">
              <a href="ags_editor.html" class="treeUnselected" onclick="clickAnchor(this)">Editing layout using map data from ArcGIS.com</a>
            </div>
            <div class="treeNode">
              <a href="portal_embed_in_website.html" class="treeUnselected" onclick="clickAnchor(this)">Embedding web maps into existing pages</a>
            </div>
            <div class="treeNode">
              <a href="ags_fade_webmaps.html" class="treeUnselected" onclick="clickAnchor(this)">Fade effect using ArcGIS.com web maps</a>
            </div>
            <div class="treeNode">
              <a href="portal_getgroupamd.html" class="treeUnselected" onclick="clickAnchor(this)">Find group ID</a>
            </div>
            <div class="treeNode">
              <a href="portal_oauth_inline.html" class="treeUnselected" onclick="clickAnchor(this)">OAuth Basic</a>
            </div>
            <div class="treeNode">
              <a href="portal_oauth_popup.html" class="treeUnselected" onclick="clickAnchor(this)">OAuth Popup</a>
            </div>
            <div class="treeNode">
              <a href="ags_createwebmapid.html" class="treeUnselected" onclick="clickAnchor(this)">Web map by ID</a>
            </div>
            <div class="treeNode">
              <a href="ags_createwebmapitem.html" class="treeUnselected" onclick="clickAnchor(this)">Web map using JSON</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Popups and Info Windows
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="widget_extendInfowindow.html" class="treeUnselected" onclick="clickAnchor(this)">Custom info window</a>
            </div>
            <div class="treeNode">
              <a href="popup_arcade_featureset.html" class="treeUnselected" onclick="clickAnchor(this)">Find nearest features using Arcade expressions in a popup</a>
            </div>
            <div class="treeNode">
              <a href="widget_formatInfoWindow.html" class="treeUnselected" onclick="clickAnchor(this)">Format info window content</a>
            </div>
            <div class="treeNode">
              <a href="gp_popuplink.html" class="treeUnselected" onclick="clickAnchor(this)">Geoprocessing tool link in popup</a>
            </div>
            <div class="treeNode">
              <a href="widget_infowindow.html" class="treeUnselected" onclick="clickAnchor(this)">Info Window Lite</a>
            </div>
            <div class="treeNode">
              <a href="widget_mobilepopup.html" class="treeUnselected" onclick="clickAnchor(this)">Mobile popup</a>
            </div>
            <div class="treeNode">
              <a href="popup_chart.html" class="treeUnselected" onclick="clickAnchor(this)">Popup</a>
            </div>
            <div class="treeNode">
              <a href="popup_sidepanel.html" class="treeUnselected" onclick="clickAnchor(this)">Popup content in side panel</a>
            </div>
            <div class="treeNode">
              <a href="popup_relatedrecords.html" class="treeUnselected" onclick="clickAnchor(this)">Popup with related fields</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Printing
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="widget_print.html" class="treeUnselected" onclick="clickAnchor(this)">Print</a>
            </div>
            <div class="treeNode">
              <a href="widget_print_esri_request.html" class="treeUnselected" onclick="clickAnchor(this)">Print templates with esri.request</a>
            </div>
            <div class="treeNode">
              <a href="widget_print_webmap.html" class="treeUnselected" onclick="clickAnchor(this)">Print webmap</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Query and Select
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="fl_hover.html" class="treeUnselected" onclick="clickAnchor(this)">Feature layer hover</a>
            </div>
            <div class="treeNode">
              <a href="featuretable_custommenu.html" class="treeUnselected" onclick="clickAnchor(this)">FeatureTable - Custom Menu Items</a>
            </div>
            <div class="treeNode">
              <a href="featuretable_formatting.html" class="treeUnselected" onclick="clickAnchor(this)">FeatureTable - Formatting</a>
            </div>
            <div class="treeNode">
              <a href="featuretable_relatedrecords.html" class="treeUnselected" onclick="clickAnchor(this)">FeatureTable - related records</a>
            </div>
            <div class="treeNode">
              <a href="query_deferred_list.html" class="treeUnselected" onclick="clickAnchor(this)">Manage results from multiple queries</a>
            </div>
            <div class="treeNode">
              <a href="query_nomap.html" class="treeUnselected" onclick="clickAnchor(this)">Query data without a map</a>
            </div>
            <div class="treeNode">
              <a href="query_statistics_sql.html" class="treeUnselected" onclick="clickAnchor(this)">Query Statistics with SQL Expression</a>
            </div>
            <div class="treeNode">
              <a href="query_buffer.html" class="treeUnselected" onclick="clickAnchor(this)">Select with Feature Layer</a>
            </div>
            <div class="treeNode">
              <a href="featuretable.html" class="treeUnselected" onclick="clickAnchor(this)">Using FeatureTable</a>
            </div>
            <div class="treeNode">
              <a href="fl_paging.html" class="treeUnselected" onclick="clickAnchor(this)">Using FeatureTable (no map)</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Renderers, Symbols, Visualization
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="fl_clustering_basic.html" class="treeUnselected" onclick="clickAnchor(this)">Basic clustering</a>
            </div>
            <div class="treeNode">
              <a href="renderer_blendrenderer_age.html" class="treeUnselected" onclick="clickAnchor(this)">BlendRenderer - Lawrence, KS by age and population size</a>
            </div>
            <div class="treeNode">
              <a href="renderer_blendrenderer_housing.html" class="treeUnselected" onclick="clickAnchor(this)">BlendRenderer - Los Angeles housing status</a>
            </div>
            <div class="treeNode">
              <a href="renderer_blendrenderer_demographics.html" class="treeUnselected" onclick="clickAnchor(this)">BlendRenderer - Minority demographics</a>
            </div>
            <div class="treeNode">
              <a href="renderer_class_breaks.html" class="treeUnselected" onclick="clickAnchor(this)">Class breaks renderer</a>
            </div>
            <div class="treeNode">
              <a href="renderer_color_ramp.html" class="treeUnselected" onclick="clickAnchor(this)">Color ramp symbols</a>
            </div>
            <div class="treeNode">
              <a href="renderer_class_breaks_proportional_rotation.html" class="treeUnselected" onclick="clickAnchor(this)">Color ramp with rotation and proportional symbols</a>
            </div>
            <div class="treeNode">
              <a href="streamlayer_arcade_geofence.html" class="treeUnselected" onclick="clickAnchor(this)">Create a Geofence with Arcade</a>
            </div>
            <div class="treeNode">
              <a href="smartmapping_predominance.html" class="treeUnselected" onclick="clickAnchor(this)">Create predominance renderer</a>
            </div>
            <div class="treeNode">
              <a href="widget_symbolstyler.html" class="treeUnselected" onclick="clickAnchor(this)">Create symbols with SymbolStyler widget</a>
            </div>
            <div class="treeNode">
              <a href="renderer_dot_density.html" class="treeUnselected" onclick="clickAnchor(this)">Dot density renderer</a>
            </div>
            <div class="treeNode">
              <a href="renderer_heatmap_weighted.html" class="treeUnselected" onclick="clickAnchor(this)">Explore Heat Maps</a>
            </div>
            <div class="treeNode">
              <a href="fl_clustering_types_filter.html" class="treeUnselected" onclick="clickAnchor(this)">Filter features with clustering enabled</a>
            </div>
            <div class="treeNode">
              <a href="renderer_generate_renderer.html" class="treeUnselected" onclick="clickAnchor(this)">Generate renderer</a>
            </div>
            <div class="treeNode">
              <a href="smartmapping_multivariate_college.html" class="treeUnselected" onclick="clickAnchor(this)">Multivariate rendering</a>
            </div>
            <div class="treeNode">
              <a href="renderer_opacityinfo.html" class="treeUnselected" onclick="clickAnchor(this)">Opacity based unique value renderer</a>
            </div>
            <div class="treeNode">
              <a href="renderer_proportional_lines.html" class="treeUnselected" onclick="clickAnchor(this)">Proportional symbols for lines</a>
            </div>
            <div class="treeNode">
              <a href="renderer_proportional_points.html" class="treeUnselected" onclick="clickAnchor(this)">Proportional symbols for points</a>
            </div>
            <div class="treeNode">
              <a href="renderer_relationship.html" class="treeUnselected" onclick="clickAnchor(this)">Relationship Renderer</a>
            </div>
            <div class="treeNode">
              <a href="renderer_function.html" class="treeUnselected" onclick="clickAnchor(this)">Renderer using a function</a>
            </div>
            <div class="treeNode">
              <a href="smartmapping_classesbycolor.html" class="treeUnselected" onclick="clickAnchor(this)">Smart Mapping - Render class breaks with color</a>
            </div>
            <div class="treeNode">
              <a href="smartmapping_bycolor.html" class="treeUnselected" onclick="clickAnchor(this)">Smart Mapping - Show Data by Color</a>
            </div>
            <div class="treeNode">
              <a href="renderer_size_scale.html" class="treeUnselected" onclick="clickAnchor(this)">Symbol size and outline width based on map scale</a>
            </div>
            <div class="treeNode">
              <a href="renderer_temporal.html" class="treeUnselected" onclick="clickAnchor(this)">Temporal renderer</a>
            </div>
            <div class="treeNode">
              <a href="fl_clustering_toggle.html" class="treeUnselected" onclick="clickAnchor(this)">Toggle point clustering</a>
            </div>
            <div class="treeNode">
              <a href="renderer_unique_value.html" class="treeUnselected" onclick="clickAnchor(this)">Unique value renderer</a>
            </div>
            <div class="treeNode">
              <a href="renderer_legend.html" class="treeUnselected" onclick="clickAnchor(this)">Update legend text with renderer</a>
            </div>
            <div class="treeNode">
              <a href="renderer_heatmap.html" class="treeUnselected" onclick="clickAnchor(this)">Use Heat Maps</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Search
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="search_basic.html" class="treeUnselected" onclick="clickAnchor(this)">Search basic</a>
            </div>
            <div class="treeNode">
              <a href="search_multiplesources.html" class="treeUnselected" onclick="clickAnchor(this)">Search multiple sources</a>
            </div>
            <div class="treeNode">
              <a href="search_suggestiontemplate.html" class="treeUnselected" onclick="clickAnchor(this)">Search using a suggestion template</a>
            </div>
            <div class="treeNode">
              <a href="search_customlocator.html" class="treeUnselected" onclick="clickAnchor(this)">Search using custom locator</a>
            </div>
            <div class="treeNode">
              <a href="search_customized.html" class="treeUnselected" onclick="clickAnchor(this)">Search with customization</a>
            </div>
            <div class="treeNode">
              <a href="search_without_ui.html" class="treeUnselected" onclick="clickAnchor(this)">Search without default UI</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Tiled Layers
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="layers_ags_tiled.html" class="treeUnselected" onclick="clickAnchor(this)">Tiled map service</a>
            </div>
            <div class="treeNode">
              <a href="layers_vector.html" class="treeUnselected" onclick="clickAnchor(this)">Vector tiles</a>
            </div>
            <div class="treeNode">
              <a href="layers_webtiled_one.html" class="treeUnselected" onclick="clickAnchor(this)">Web tiled</a>
            </div>
            <div class="treeNode">
              <a href="layers_wmtslayerresourceinfo.html" class="treeUnselected" onclick="clickAnchor(this)">WMTS - resource info</a>
            </div>
          </div>
        </div>
        
        <div class="treeNode">
          <img src="../graphics/treenodeplus.gif" alt="" onclick="expandCollapse(this.parentNode)" class="treeLinkImage">
          <span onclick="expandCollapse(this.parentNode)" class="category">
            Time
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a href="widget_histogram_time_slider.html" class="treeUnselected" onclick="clickAnchor(this)">Histogram Time Slider</a>
            </div>
            <div class="treeNode">
              <a href="time_sliderwithdynamiclayer.html" class="treeUnselected" onclick="clickAnchor(this)">Time slider with dynamic map service layer</a>
            </div>
          </div>
        </div>
        
      </div>
    </div>
</div> 
  </div>
  <div class="grid_9 contentWrapper">
    <div id="samplePane" class="js-scroll-to-top">
      <a href="../sandbox/sandbox.html?sample=geoenrichment_reportplayer">
      <img class="sampleThumbnail" alt="View ReportPlayer - Geoenrichment sample in sandbox"
        title="View ReportPlayer - Geoenrichment sample in sandbox"
        src="https://www.arcgis.com/sharing/rest/content/items/6bd67f78c9e445b7a26598cd8b58b1e5/info/thumbnail/thumbnail1529462437147.png" width=200 height=133></a> 
      <div id="pageBanner">ReportPlayer - Geoenrichment</div> 
      <div id="nstext">
        <h4 class="dtH4 sampleLinks">
          <a class="js-btn-sample-code-sandbox" href="../sandbox/sandbox.html?sample=geoenrichment_reportplayer">Explore in the sandbox</a>
          <span class="btn-separator"></span><a class="js-btn-jsshare" data-jsshare-url="../samples/geoenrichment_reportplayer/index.html">Open in CodePen</a><br>
          <a class="js-btn-sample-code-view-live" href="../samples/geoenrichment_reportplayer/">View live sample</a><br>
          <a class="js-btn-sample-code-download" href="https://www.arcgis.com/sharing/rest/content/items/bcb1cd65edfe4d32a797ccf3c992723b/data">Download as a zip file</a>
        </h4>
        <h4 class="dtH4">Description</h4>The ReportPlayer widget runs infographic report templates for a provided analysis area. This sample allows users to click on one of 4 locations and show one of the Esri provided Infographics for the location. The<a href='https://developers.arcgis.com/javascript/3/jsapi/reportplayer-amd.html' target='_blank'>ReportPlayer</a>uses the GeoEnrichment service to request and create the Infographic.<a href='https://developers.arcgis.com/rest/geoenrichment/api-reference/geoenrichment-service-overview.htm' target='_blank'>GeoEnrichment</a>is a subscription based service available through ArcGIS Online. Log-in credentials are always required when executing a GeoEnrichment task.<div><b><br /></b><div><img alt='Reportplayer sample' src='../jshelp/images/ReportPlayerSample.gif' /><b><br /></b></div><div><b><br /></b></div><div><b><br /></b></div><div><b>For demo purposes, this sample requires a user to have ArcGIS Online credentials with access to GeoEnrichment to run successfully.</b></div></div> 

        <h4 class="dtH4">Code</h4>
        <div class="detailSample">
          <pre class="prettyprint">
&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;

&lt;head&gt;
  &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;
  &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"&gt;
  &lt;title&gt;GeoEnnrichment ReportPlayer&lt;/title&gt;

  &lt;link rel="stylesheet" href="https://js.arcgis.com/3.31/dijit/themes/claro/claro.css"&gt;
  &lt;link rel="stylesheet" href="https://js.arcgis.com/3.31/esri/css/esri.css"&gt;

  &lt;style&gt;
    html,
    body {
      padding: 0;
      margin: 0;
      height: 100%;
      overflow: hidden;
      font-size: 13px;
      font-family: "Avenir Next";
    }

    .topToolbar {
      background-color: #EEEEEE;
      border-bottom: 1px solid #b2b2b2;
      padding: 10px;
    }

    .topToolbarLabel {
      margin-right: 10px;
      margin-top: 10px;
      margin-bottom: 10px;
    }

    .topToolbarItem {
      margin-right: 50px;
    }

    .topToolbarItem div {
      vertical-align: top;
    }

    #mapDiv {
      position: absolute;
      top: 0px;
      left: 0px;
      bottom: 0px;
      right: 0px;
    }

    .playerDivFullScreen {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
    }

    .playerDivInfoWindow {
      padding: 10px;
    }

    .simpleInfoWindow.playerInfoWindow {
      width: auto !important;
      height: auto !important;
    }

    .simpleInfoWindow.playerInfoWindow .title {
      display: none;
    }

    .simpleInfoWindow.playerInfoWindow .content {
      width: auto !important;
      height: auto !important;
    }

    .simpleInfoWindow.playerInfoWindow .close {
      left: auto !important;
      right: -12px;
    }

    .selectionBox {
      position: absolute;
      border: 1px solid gray;
      background-color: rgba(0, 0, 0, 0.3);
    }
  &lt;/style&gt;
  &lt;script src="https://js.arcgis.com/3.31/"&gt;&lt;/script&gt;

  &lt;script&gt;
    require(["require"],
      function (relativeRequire) {

        require([
            "dojo/aspect",
            "dojo/dom-class",
            "dojo/dom-construct",
            "dojo/dom-geometry",
            "dojo/dom-style",
            "dojo/on",
            "dojo/sniff",

            "esri/map",
            "esri/graphic",
            "esri/geometry/Extent",
            "esri/geometry/ScreenPoint",
            "esri/layers/GraphicsLayer",
            "esri/dijit/InfoWindowLite",

            "esri/dijit/geoenrichment/OnDemandSelect",

            "esri/dijit/geoenrichment/ReportPlayer/ReportPlayer",
            "esri/dijit/geoenrichment/ReportPlayer/PlayerResizeModes",
            "esri/dijit/geoenrichment/ReportPlayer/PlayerViewModes",
            "esri/dijit/geoenrichment/ReportPlayer/dataProvider/supportClasses/StandardGraphicReportTemplates",
            "esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/symbols/HighlightedSymbolGenerator",
            "esri/dijit/geoenrichment/utils/signIn/SignInHelper",
            "esri/dijit/geoenrichment/utils/DeviceUtil",

            "dojo/domReady!"
          ],
          function (
            aspect,
            domClass,
            domConstruct,
            domGeom,
            domStyle,
            on,
            has,

            Map,
            Graphic,
            Extent,
            ScreenPoint,
            GraphicsLayer,
            InfoWindowLite,

            OnDemandSelect,

            ReportPlayer,
            PlayerResizeModes,
            PlayerViewModes,
            StandardGraphicReportTemplates,
            HighlightedSymbolGenerator,
            SignInHelper,
            DeviceUtil
          ) {

            var DEFAULTS = {
              portalUrl: "https://www.arcgis.com",
              countryID: "US",
            };

            var isMobile = DeviceUtil.isMobileDevice();

            topToolbarHelperText.innerHTML = isMobile ?
              "Select a template, then tap a feature on the map to open an infographic." :
              "Select a template, then click a feature or shift-drag to select multiple features on the map to open an infographic.";

            //--------------------------------------------------------------------------
            //
            //  Top Toolbar
            //
            //--------------------------------------------------------------------------

            var templateSelector = new OnDemandSelect({
              listClass: "esriGEOnDemandSelectUnlimitedTallList esriGEOnDemandSelectSpacedOut",
              value: StandardGraphicReportTemplates.aliasToID("US", "key-facts"),
              options: StandardGraphicReportTemplates.getListOptions("US")
            }).placeAt(templateSelectorDiv);

            var viewModeSelector = new OnDemandSelect({
              listClass: "esriGEOnDemandSelectSpacedOut"
            }).placeAt(viewModeSelectorDiv);
            if (isMobile) {
              viewModeSelector.set("options", [{
                  value: PlayerViewModes.PANELS_IN_SLIDES,
                  label: "Slide view"
                },
                {
                  value: PlayerViewModes.PANELS_IN_STACK,
                  label: "Stacked slide view"
                }
              ]);
              viewModeSelector.set("value", PlayerViewModes.PANELS_IN_SLIDES);
            } else {
              viewModeSelector.set("options", [{
                  value: PlayerViewModes.FULL_PAGES,
                  label: "Full screen"
                },
                {
                  value: PlayerViewModes.PANELS_IN_SLIDES,
                  label: "Slide view"
                },
                {
                  value: PlayerViewModes.PANELS_IN_STACK,
                  label: "Stacked slide view"
                }
              ]);
              viewModeSelector.set("value", PlayerViewModes.FULL_PAGES);
            }

            //--------------------------------------------------------------------------
            //
            //  Map
            //
            //--------------------------------------------------------------------------

            mapDiv.style.top = topToolbarDiv.clientHeight + 1 + "px";

            on(window, "resize", function () {
              mapDiv.style.top = topToolbarDiv.clientHeight + 1 + "px";
            });

            var map = new Map("mapDiv", {
              basemap: "streets",
              center: [-117.15, 32.68], // longitude, latitude
              zoom: 12
            });

            map.on("load", function () {

              // set up the map

              map.disableRubberBandZoom();

              var selectionBox;

              // set up multiple selection

              // here we need to detect mouse-down + Shift key
              on(map, "mouse-down", function (event) {
                if (!event.shiftKey)
                  return;

                map.disablePan();

                event.stopPropagation();

                function updateBox() {
                  var sp = boxParams.startScreenPoint;
                  var ep = boxParams.endScreenPoint;
                  var xmin = Math.min(sp.x, ep.x);
                  var ymin = Math.min(sp.y, ep.y);
                  var xmax = Math.max(sp.x, ep.x);
                  var ymax = Math.max(sp.y, ep.y);

                  domStyle.set(selectionBox, {
                    left: xmin + "px",
                    top: ymin + "px",
                    width: (xmax - xmin) + "px",
                    height: (ymax - ymin) + "px"
                  });
                };

                // create box
                selectionBox = domConstruct.create("div", {
                  "class": "selectionBox"
                }, document.body);

                // initial box params

                var boxParams = {};
                boxParams.startMapPoint = event.mapPoint;
                boxParams.startScreenPoint = {
                  x: event.clientX,
                  y: event.clientY
                };
                boxParams.endScreenPoint = {
                  x: event.clientX,
                  y: event.clientY
                };

                // update box on mousemove

                var boxToolMapHanlders = [];
                boxToolMapHanlders.push(on(document.body, "mousemove, touchmove, dojotouchmove", function (
                  e) {
                  boxParams.endScreenPoint.x = e.clientX;
                  boxParams.endScreenPoint.y = e.clientY;
                  updateBox();
                }));

                // stop selection on mouseup

                boxToolMapHanlders.push(on(document.body, "mouseup, touchend", function () {
                  // try to calculate box extent
                  var sp = boxParams.startMapPoint;
                  var mapPos = domGeom.position(map.root);

                  // give it a few pixels offset to aviod having a zero extent box
                  if (boxParams.startScreenPoint.x === boxParams.endScreenPoint.x)
                    boxParams.endScreenPoint.x += 2; // 2 pixels

                  if (boxParams.startScreenPoint.y === boxParams.endScreenPoint.y)
                    boxParams.endScreenPoint.y += 2; // 2 pixels

                  var ep = map.toMap(new ScreenPoint(boxParams.endScreenPoint.x - mapPos.x, boxParams
                    .endScreenPoint.y - mapPos.y));

                  var xmin = Math.min(sp.x, ep.x);
                  var ymin = Math.min(sp.y, ep.y);
                  var xmax = Math.max(sp.x, ep.x);
                  var ymax = Math.max(sp.y, ep.y);

                  var boxExtent = new Extent(xmin, ymin, xmax, ymax, map.spatialReference);

                  var graphics = graphicsLayer.graphics.filter(function (g) {
                    return boxExtent.intersects(g.geometry);
                  });
                  graphics.length && runPlayerForSelectedGraphics(graphics, event.mapPoint);

                  boxToolMapHanlders.forEach(function (h) {
                    h.remove();
                  })
                  boxToolMapHanlders.length = 0;

                  domConstruct.destroy(selectionBox);

                  map.enablePan();

                  // pointer, in this case the PointerEvents class thinks the mouse is still pressed and this causes issues
                  // with future mouse clicks.  Set _numTouches to 0 in order to resolve this.
                  if (has("ie"))
                    if (map.navigationManager.pointerEvents)
                      map.navigationManager.pointerEvents._numTouches = 0;
                }));
              });

              // add a few graphics

              var graphicsLayer = new GraphicsLayer();
              map.addLayer(graphicsLayer);

              graphicsLayer.add(new Graphic({
                "geometry": {
                  "rings": [
                    [
                      [-13037494.994088652, 3852956.928906343],
                      [-13034724.151813319, 3853912.3917599064],
                      [-13034208.201872393, 3853415.5510760536],
                      [-13033720.915817076, 3852345.4326800625],
                      [-13033224.075133225, 3850874.019885575],
                      [-13032736.789077906, 3850138.313488331],
                      [-13036052.245179772, 3849135.0774920895],
                      [-13037494.994088652, 3852956.928906343]
                    ]
                  ],
                  "spatialReference": {
                    "wkid": 102100
                  }
                },
                "symbol": {
                  "type": "esriSFS",
                  "style": "esriSFSSolid",
                  "color": [199, 55, 36, 150],
                  "outline": {
                    "type": "esriSLS",
                    "style": "esriSLSSolid",
                    "color": [199, 55, 36, 255]
                  }
                },
                "attributes": {
                  "NAME": "National City",
                  "BUILDING_AREA": 5000.5,
                  "SITE_AREA": 10000.25,
                  "FRONTAGE": 800,
                  "PARKING": 300,
                  "BUILDING_DATE": new Date().getTime(),
                  "url": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/USA_CA_NationalCity_Westfield_002_2013.jpg/1280px-USA_CA_NationalCity_Westfield_002_2013.jpg",
                  "url2": "https://upload.wikimedia.org/wikipedia/commons/7/7b/USA_CA_NationalCity_Center_002_2013_-_Mile_of_Cars.jpg"
                }
              }));

              graphicsLayer.add(new Graphic({
                "geometry": {
                  "rings": [
                    [
                      [-13035942.366951615, 3848982.2034355192],
                      [-13033935.894959131, 3849784.7922325125],
                      [-13032636.465478284, 3850033.212574439],
                      [-13031891.204452505, 3849039.531206733],
                      [-13031069.506398441, 3848561.799779951],
                      [-13030515.337943373, 3847663.6646976015],
                      [-13029846.51394588, 3847166.8240137487],
                      [-13029235.017719598, 3846096.7056177575],
                      [-13034432.735642985, 3844395.9817384146],
                      [-13035942.366951615, 3848982.2034355192]
                    ]
                  ],
                  "spatialReference": {
                    "wkid": 102100
                  }
                },
                "symbol": {
                  "type": "esriSFS",
                  "style": "esriSFSSolid",
                  "color": [55, 199, 36, 150],
                  "outline": {
                    "type": "esriSLS",
                    "style": "esriSLSSolid",
                    "color": [55, 199, 36, 255]
                  }
                },
                "attributes": {
                  "NAME": "Chula Vista",
                  "BUILDING_AREA": 4000.5,
                  "SITE_AREA": 8000.25,
                  "FRONTAGE": 500,
                  "PARKING": 200,
                  "BUILDING_DATE": new Date().getTime(),
                  "url": "https://upload.wikimedia.org/wikipedia/commons/1/12/ChulaVista_Bayfront.jpg"
                }
              }));

              graphicsLayer.add(new Graphic({
                "geometry": {
                  "rings": [
                    [
                      [-13043772.385036565, 3859559.177224467],
                      [-13041727.69452994, 3862272.691728587],
                      [-13040542.92059152, 3862865.0786977964],
                      [-13038230.700485898, 3862845.969440725],
                      [-13037198.80060405, 3860648.404877529],
                      [-13036778.396948481, 3859750.2697951794],
                      [-13035803.824837847, 3858966.7902552574],
                      [-13035803.824837847, 3857304.284890057],
                      [-13034905.689755498, 3856119.5109516387],
                      [-13034829.252727212, 3854093.929702084],
                      [-13037542.767231332, 3853100.248334378],
                      [-13040275.390992522, 3854437.896329367],
                      [-13043523.96469464, 3856883.8812344894],
                      [-13043772.385036565, 3859559.177224467]
                    ]
                  ],
                  "spatialReference": {
                    "wkid": 102100
                  }
                },
                "symbol": {
                  "type": "esriSFS",
                  "style": "esriSFSSolid",
                  "color": [36, 55, 199, 150],
                  "outline": {
                    "type": "esriSLS",
                    "style": "esriSLSSolid",
                    "color": [36, 55, 199, 255]
                  }
                },
                "attributes": {
                  "NAME": "San Diego",
                  "BUILDING_AREA": 7000.5,
                  "SITE_AREA": 12000.25,
                  "FRONTAGE": 900,
                  "PARKING": 350,
                  "BUILDING_DATE": new Date().getTime(),
                  "url": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Harbor_Drive%2C_San_Diego.jpg/1920px-Harbor_Drive%2C_San_Diego.jpg"
                }
              }));

              graphicsLayer.add(new Graphic({
                "geometry": {
                  "rings": [
                    [
                      [-13044020.805378487, 3859387.193910824],
                      [-13043944.368350202, 3858890.353226971],
                      [-13043753.27577949, 3856826.553463274],
                      [-13037829.406087395, 3853004.7020490207],
                      [-13034619.050899422, 3844290.880824522],
                      [-13038096.935686393, 3842227.0810608254],
                      [-13039205.272596527, 3843717.603112384],
                      [-13039778.550308665, 3846163.5880175065],
                      [-13042148.098185502, 3850864.4652570384],
                      [-13044364.772005768, 3852890.046506593],
                      [-13049256.741816014, 3853654.4167894437],
                      [-13049256.741816014, 3855756.435067283],
                      [-13044020.805378487, 3859387.193910824]
                    ]
                  ],
                  "spatialReference": {
                    "wkid": 102100
                  }
                },
                "symbol": {
                  "type": "esriSFS",
                  "style": "esriSFSSolid",
                  "color": [199, 55, 199, 150],
                  "outline": {
                    "type": "esriSLS",
                    "style": "esriSLSSolid",
                    "color": [199, 55, 199, 255]
                  }
                },
                "attributes": {
                  "NAME": "San Diego Bay",
                  "BUILDING_AREA": 6500.5,
                  "SITE_AREA": 11300.25,
                  "FRONTAGE": 820,
                  "PARKING": 290,
                  "BUILDING_DATE": new Date().getTime(),
                  "url": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/OverCoronadoSanDiegoAug07.jpg/800px-OverCoronadoSanDiegoAug07.jpg"
                }
              }));

              // add a listener to the layer
              var player, playerDiv;

              var infoWindow = new InfoWindowLite(null, domConstruct.create("div", null, null, map.root));
              infoWindow.startup();
              map.setInfoWindow(infoWindow);
              aspect.after(infoWindow, "onHide", function () {
                player && player.destroy();
                domConstruct.destroy(playerDiv);
              });
              domClass.add(infoWindow.domNode, "playerInfoWindow");

              var highlightedGraphics = [];

              function runPlayerForSelectedGraphics(graphics, mapPoint) {

                var isFullScreen = isMobile || viewModeSelector.get("value") === PlayerViewModes.FULL_PAGES;

                //--------------------------------------------------------------------------
                //
                //  Highlight
                //
                //--------------------------------------------------------------------------

                highlightedGraphics.forEach(function (g) {
                  g.setSymbol(g.__originalSymbol);
                  delete g.__originalSymbol;
                });
                highlightedGraphics.length = 0;

                if (!isFullScreen)
                  graphics.forEach(function (g) {
                    g.__originalSymbol = g.symbol;
                    highlightedGraphics.push(g);
                    HighlightedSymbolGenerator.getHighlightSymbol({
                      graphic: g,
                      outlineOnly: true
                    }).then(function (hInfo) {
                      hInfo.symbol && g.setSymbol(hInfo.symbol);
                    });
                  });

                //--------------------------------------------------------------------------
                //
                //  Report Player
                //
                //--------------------------------------------------------------------------

                infoWindow.hide();
                player && player.destroy();
                domConstruct.destroy(playerDiv);

                // configure playerDiv for the current view and resize modes
                playerDiv = domConstruct.create("div", null, document.body);

                if (isFullScreen)
                  domClass.add(playerDiv, "playerDivFullScreen");
                else {
                  domClass.add(playerDiv, "playerDivInfoWindow");
                  map.infoWindow.show(mapPoint);
                  map.infoWindow.setContent(playerDiv);
                }

                player = new ReportPlayer({
                  viewMode: viewModeSelector.get("value"),
                  resizeMode: isFullScreen ? PlayerResizeModes.FIT_WINDOW : PlayerResizeModes.AUTO,
                  showCloseButton: isFullScreen,
                  showToolbarInPopup: !isFullScreen,
                  showAreaTitle: true,
                  showToFullScreenAnimation: isFullScreen,
                  onClose: function () {
                    player.destroy();
                    domConstruct.destroy(playerDiv);
                  }
                }).placeAt(playerDiv);

                function playerReport(reportID) {
                  player.playReport({
                    portalUrl: DEFAULTS.portalUrl,
                    countryID: DEFAULTS.countryID,
                    reportID: reportID,
                    analysisAreas: graphics.map(function (g) {
                      return {
                        "name": g.attributes.NAME,
                        "shortName": g.attributes.NAME,
                        "feature": g
                      };
                    }),
                    // for multi-feature reports like "Multi-ring Comparison"
                    combinedAreasInfo: {
                      address: graphics[0].attributes.NAME + " et al.",
                      description: graphics.length + " polygon areas"
                    },
                    attachmentsProvider: {
                      supportsMultipleAreas: true,
                      getAttributesForAreaAt: function (areaIndex) {
                        var attributes = graphics[areaIndex].attributes;
                        return [{
                            name: "BUILDING_AREA",
                            alias: "Building area (sq. ft)",
                            type: "esriFieldTypeDouble",
                            value: attributes["BUILDING_AREA"]
                          },
                          {
                            name: "SITE_AREA",
                            alias: "Site area (sq. ft)",
                            type: "esriFieldTypeDouble",
                            value: attributes["SITE_AREA"]
                          },
                          {
                            name: "FRONTAGE",
                            alias: "Frontage",
                            type: "esriFieldTypeInteger",
                            value: attributes["FRONTAGE"]
                          },
                          {
                            name: "PARKING",
                            alias: "Parking",
                            type: "esriFieldTypeInteger",
                            value: attributes["PARKING"]
                          },
                          {
                            name: "BUILDING_DATE",
                            alias: "Building date",
                            type: "esriFieldTypeDate",
                            value: attributes["BUILDING_DATE"]
                          }
                        ];
                      },
                      getNotesForAreaAt: function (areaIndex) {
                        var attributes = graphics[areaIndex].attributes;
                        return [{
                          text: "This is a note example for area " + attributes.NAME
                        }];
                      },
                      getAttachmentsForAreaAt: function (areaIndex) {
                        var attributes = graphics[areaIndex].attributes;
                        var urls = [];
                        attributes.url && urls.push(attributes.url);
                        attributes.url2 && urls.push(attributes.url2);
                        return urls.map(function (url) {
                          return {
                            description: "Image for " + attributes.NAME,
                            getThumbnail: function () {
                              return url;
                            },
                            getAttachmentUrl: function () {
                              return url;
                            }
                          };
                        });
                      }
                    }
                  }).then(function () {
                    // refresh the position of the info window
                    !isFullScreen && infoWindow.resize(infoWindow.width, infoWindow.height);
                  });
                };

                // limit the size of the info window
                if (!isFullScreen) {
                  player.setMaxWidth(700);
                  player.setMaxHeight(500);
                } else {
                  // add a select to choose infographics right from the player
                  var inPlayerSelect = new OnDemandSelect({
                    "class": "esriGEOnDemandSelectWhite esriGEOnDemandSelectNoBackground",
                    listClass: "esriGEOnDemandSelectUnlimitedTallList esriGEOnDemandSelectSpacedOut",
                    value: templateSelector.get("value"),
                    options: StandardGraphicReportTemplates.getListOptions("US"),
                    onChange: function (event) {
                      templateSelector.set("value", event.value); // sync with the main selector
                      playerReport(event.value);
                    }
                  });
                  player.playerToolbar.addInfographicsSelect(inPlayerSelect);
                }

                playerReport(templateSelector.get("value"));
              };

              graphicsLayer.on("click", function (event) {
                runPlayerForSelectedGraphics([event.graphic], event.mapPoint);
              });
            });
          });
      });
  &lt;/script&gt;
&lt;/head&gt;

&lt;body class="claro"&gt;
  &lt;div id="topToolbarDiv" class="topToolbar"&gt;
    &lt;div id="topToolbarHelperText" class="topToolbarLabel"&gt;&lt;/div&gt;
    &lt;div class="dijitInline" style="white-space:nowrap;"&gt;
      &lt;div class="dijitInline topToolbarLabel"&gt;Template:&lt;/div&gt;
      &lt;div class="dijitInline topToolbarItem" id="templateSelectorDiv"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="dijitInline" style="white-space:nowrap;"&gt;
      &lt;div class="dijitInline topToolbarLabel"&gt;View infographic in:&lt;/div&gt;
      &lt;div class="dijitInline topToolbarItem" id="viewModeSelectorDiv"&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="mapDiv"&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;
 
          </pre>
        </div>
      </div>
      <div id="wh_footer" class="footnote">
  <a href="mailto:js_feedback@esri.com?subject=Feedback%20on%203.31%20Sample:%20geoenrichment_reportplayer">Report an error on this page</a>.
  <br>
  <a href="http://www.esri.com/legal/copyright-trademarks">Copyright &copy; 2018 Esri</a>. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="https://developers.arcgis.com/en/terms/faq/">Terms of use</a>
</div>

    </div>
  </div>
</div> 

<script src="../scripts/libs/tailcoat.js"></script>

<script src="../scripts/tree.js"></script>
<script src="../prettify/prettify.js"></script>
<script>
  // configuration variable from template
  var isSamplesDebug = false;
  var dojoConfig = {
    packages: [{
      "name": "js",
      "location": location.pathname.replace(/\/[^/]+$/, "/") + "../scripts"
    }]
  };
</script>

<script src="../scripts/libs/dojo-esri/dojo/dojo.js" data-dojo-config="async: true,locale: 'en-us'"></script>
<script src="../scripts/esri-main-samples.js"></script>
<script src="../scripts/esri-keyboard-navigation.js"></script>
<script>
  require(["dojo/topic", "js/libs/mousetrap"], function(topic, Mousetrap) {
    Mousetrap.bind([
      // ${API_BINDINGS}
              // Go to Sandbox
"e s",
// Share in online code editor
"s",
// View live example
"v l",
"d",
      // Focus search
      "/",
      // Blur search
      "esc",
      // Go to Home
      "g h",
      // Go to Guide
      "g g",
      // Go to API Reference
      "g a",
      // Go to Sample Code
      "g s",
      // Show help
      "?",
      // Scroll to top of the page
      "g t",
      // Scroll to bottom of the page
      "g b"
    ], function (mousetrapEvent, keyboardCombination){
      topic.publish("keyboard:mousetrap", {
        event: mousetrapEvent,
        combination: keyboardCombination,
        navigation: {}
      });

    });
  });
</script>
<a class="modal-show keyboard-shortcuts-hidden hide js-keyboard-shortcuts" data-modal="keyboard-shortcuts-modal" href="#">Show Modal</a>
<div class="modal-overlay">
  <div class="modal keyboard-shortcuts-modal js-keyboard-shortcuts-modal" data-modal="keyboard-shortcuts-modal">
    <a class="modal-dismiss js-modal-dismiss icon-close right" href="#"></a>
    <h3 class="keyboard-shortcuts-modal-title">Keyboard shortcuts</h3>
    <hr class="leader-0 trailer-1">
    
    <div class="row">
      
      <div class="column-12 js-keyboard-mappings-first-div">
        <table class="table-plain keyboard-mappings">
          <thead>
            <tr><th></th><th>Site wide shortcuts</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><kbd>?</kbd></td>
              <td>Bring up this help dialog</td>
            </tr>
            <tr>
              <td><kbd>esc</kbd></td>
              <td>Dismiss this help dialog</td>
            </tr>
            <tr>
              <td><kbd>g</kbd><kbd>h</kbd></td>
              <td>Go to Home</td>
            </tr>
            <tr>
              <td><kbd>g</kbd><kbd>g</kbd></td>
              <td>Go to Guide</td>
            </tr>
            <tr>
              <td><kbd>g</kbd><kbd>a</kbd></td>
              <td>Go to API Reference</td>
            </tr>
            <tr>
              <td><kbd>g</kbd><kbd>s</kbd></td>
              <td>Go to Sample Code</td>
            </tr>
            <tr>
              <td><kbd>g</kbd><kbd>t</kbd></td>
              <td>Scroll to top of page</td>
            </tr>
            <tr>
              <td><kbd>spacebar</kbd></td>
              <td>Scroll page down</td>
            </tr>
            <tr>
              <td><kbd>shift spacebar</kbd></td>
              <td>Scroll page up</td>
            </tr>
            <tr>
              <td><kbd>g</kbd><kbd>b</kbd></td>
              <td>Scroll to bottom of page</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      
      <div class="column-12 js-keyboard-mappings-second-div">
        <table class="table-plain keyboard-mappings">
          <thead>
            <tr><th></th><th>Sample Code</th></tr>
          </thead>
          <tbody>
            <tr><td><kbd>/</kbd></td><td>Focus search</td></tr><tr><td><kbd>e</kbd><kbd>s</kbd></td><td>Explore in the Sandbox</td></tr><tr><td><kbd>s</kbd></td><td>Share in online code editor</td></tr><tr><td><kbd>v</kbd><kbd>l</kbd></td><td>View live example</td></tr>
          </tbody>
        </table>
      </div>
      
    </div>
    
  </div>
</div>



<script>T.init();</script>

<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJGGV5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script>

 



</body>
</html>

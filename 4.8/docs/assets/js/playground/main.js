/*! ArcGIS API for JavaScript 4.8 | Copyright (c) 2018 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
"use strict";require(["esri-playground-js/utils/CurrentState","esri-playground-js/utils/mainUtils","esri-playground-js/utils/Initializer","esri-playground-js/utils/DataProvider","dojo/dom","dojo/on","dojo/domReady!"],function(r,d,y,i,e,n){var p=null,c=e.byId("selectionBlock"),g=e.byId("generatorBlock"),u=e.byId("pageTitle"),f=e.byId("pageSubTitle"),w=(e.byId("playArea"),e.byId("viewsOptions")),b=e.byId("mapOptions"),I=e.byId("searchBtn"),s=e.byId("reset"),t=e.byId("share");function v(){var e=window.location.hash,i=r.getInstance();-1<e.toLowerCase().indexOf("3d")?(w.style.display="none",t.style.display="none",s.style.display="none",i.set("view",y.getView(!0))):(t.style.display="block",s.style.display="block",i.set("view",y.getView()))}function a(){var e=window.location.hash,i=r.getInstance();v();var n=e.split("=")[1];if(n){c.style.display="none",g.style.display="flex",b.style.display="block",I.style.display="inline";var s=n.split("?")[0],t=require.toUrl("esri-playground-data")+"/"+s,a=t.split("/").pop().split(".")[0],l=-1<a.toLowerCase().indexOf("3d");-1<a.toLowerCase().indexOf("picture")||l||-1<a.toLowerCase().indexOf("webstyle")?w.style.display="none":w.style.display="inline-block";var o=JSON.parse(sessionStorage.getItem(a));o&&o.config&&!l&&(p=d.parseConfig(o.config,!0)),(!p||p&&-1===t.indexOf(p.className))&&(p=d.parseConfig(t,!0)),i.set("config",p),u.innerHTML=p.className+": ",f.innerHTML=p.summary,y.init()}else c.style.display="flex",g.style.display="none",b.style.display="none",I.style.display="none",u.innerHTML="",f.innerHTML="A code generator application",y.clearGraphicsLayer2D()}n(window,"hashchange",function(e){!!e.oldURL.split("state")[1]||(y.reset(),a())}),y.initMsgCenterHandlers(),v(),r.getInstance().view.when(function(){var e=require.toUrl("esri-playground-data")+"/index-config.json";i.getJsonData(e,!0).then(function(e){y.initSelectionHandlers(r.getInstance().view.map,e)})}),a()});
/*! ArcGIS API for JavaScript 4.8 | Copyright (c) 2018 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
require(["SessionManager","dojo/query","dojo/topic","calcite-web","esri/config","documentation/download","dojo/NodeList-dom","dojo/NodeList-manipulate","dojo/NodeList-traverse","dojo/_base/event","dojo/domReady!"],function(a,r,e,o,n){function d(o,e){for(var n=0;n<e.length;n++)if(o.match(e[n]))return!0;return!1}o.init(),window.calcite=o,n.request.proxyUrl="/proxy",window.console||function(){var o=function(){},e=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var n=0;n<e.length;n++)window.console[e[n]]=o}(),r("body").on("click",function(o){var e=r("#down-arrow"),n=r(".logo-wrap");o.target==e[0]&&"visible"!==siteNav[0].className?n.addClass("expanded"):n.removeClass("expanded")}),function(){if(a.loggedIn()){r("body").addClass("logged-in");var o=window.location,e=o.origin,n=d(o.pathname,["sign-up","developer-beta","developer-trial"]),i=d(o.pathname,["applications","usage","hosted-data"]),t=a.isPublicAccount();t&&(n||i)?window.location=e+"/downloads/":!t&&n&&(window.location=e+"/applications/")}}(),window.hljs&&Array.prototype.forEach&&hljs.initHighlighting(),function(){e.subscribe("session:organization",function(){r("[data-user-avatar]").forEach(function(o){var e=r(o).attr("data-user-avatar")[0];o.src=a.avatar(e)}),r("[data-first-name]").text(a.firstName()),r("[data-full-name]").text(a.profile.fullName),r("[data-username]").text(a.username()),r("[data-profile-link]").attr("href",a.developerSubscription()?"/account/profile":a.orgUrl()+"/home/user.html")}),a.loggedIn()&&"ontouchstart"in window&&r("#logged-in-navigation a").first().on("click",function(o){o.preventDefault()});var o=SiteConfig.portal+"/rest/oauth2/signout?redirect_uri="+SiteConfig.destination;r(".js-log-out").attr("href",o)}(),a.organization||e.subscribe("session:organization",function(){a.loggedIn()&&a.developerSubscription()&&r(".js-account-settings").removeClass("hide")})});